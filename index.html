<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ultibake Showcase</title>
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&family=Raleway:ital,wght@0,500;1,500&display=swap" rel="stylesheet" />
  
  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      document.querySelectorAll('.carousel-item img').forEach(img => {
        // Smooth transition on transform changes
        img.style.transition = "none";
  
        // Update transform origin based on mouse position
        img.addEventListener("mousemove", function(e) {
          const rect = img.getBoundingClientRect();
          const xPercent = ((e.clientX - rect.left) / rect.width) * 100;
          const yPercent = ((e.clientY - rect.top) / rect.height) * 100;
          img.style.transformOrigin = `${xPercent}% ${yPercent}%`;
        });
  
        // Zoom in on mouse enter and reset on leave
        img.addEventListener("mouseenter", function() { img.style.transform = "scale(1.3)"; });
        img.addEventListener("mouseleave", function() { img.style.transform = "scale(1)"; });
      });
    });
  </script>
  
  <style>
    :root {
      --main-font: 'Outfit', 'Raleway', sans-serif;
      --control-width: 10%;
      --control-icon-size: 50px;
      --content-bg: url('https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/PatternX.png');
      --content-bg-size: 512px 512px;
    }

    /* Base styling for links */
    a {
      color: rgb(255, 85, 85);
      font-family: var(--main-font);
      text-decoration: none;
      transition: all 0.3s ease;
    }
    a:hover,
    a:focus {
      background-image: linear-gradient(
        90deg,
        hsl(0, 50%, 50%),
        hsl(60, 50%, 50%),
        hsl(120, 50%, 50%),
        hsl(180, 50%, 50%),
        hsl(240, 50%, 50%),
        hsl(300, 50%, 50%),
        hsl(360, 50%, 50%)
      );
      background-size: 400%;
      color: transparent;
      -webkit-background-clip: text;
      background-clip: text;
      animation: rainbow 10s linear infinite;
    }
    @keyframes rainbow {
      0% { background-position: 0%; }
      100% { background-position: 400%; }
    }
    a:hover,
    a:focus {
      -webkit-text-stroke: 0;
      text-shadow: none;
    }

    .rainbow-text {
      background-image: linear-gradient(
        90deg,
        hsl(0, 50%, 50%),
        hsl(60, 50%, 50%),
        hsl(120, 50%, 50%),
        hsl(180, 50%, 50%),
        hsl(240, 50%, 50%),
        hsl(300, 50%, 50%),
        hsl(360, 50%, 50%)
      );
      background-size: 400%;
      color: transparent;
      -webkit-background-clip: text;
      background-clip: text;
      animation: rainbow 10s linear infinite;
      text-shadow: none;
    }

    /* Headers */
    h1, h2, h3, h4, h5, h6 {
      text-align: center;
      font-family: var(--main-font);
    }
    h1 { font-size: 5rem; }
    h2 { font-size: 4rem; }
    h3, h4 { font-size: 2rem; }
    h5 { font-size: 1.25rem; }
    h6 { font-size: 1rem; }

    h1 { font-size: 5rem; }
h2 { font-size: 4rem; }
h3, h4 { font-size: 2rem; }
h5 { font-size: 1.25rem; }
h6 { font-size: 1rem; }

@media (max-width: 600px) {
  h1 { font-size: 3rem; }
  h2 { font-size: 2.5rem; }
  h3, h4 { font-size: 1.75rem; }
  h5 { font-size: 1.1rem; }
  h6 { font-size: 0.9rem; }
}


      .video-container {
    max-width: 800px;
    width: 100%;
    margin: 0 auto;
  }

  @media (max-width: 600px) {
    .video-container {
      max-width: 100%;
    }
  }
    /* Main content container */
    .content-container {
      background: var(--content-bg) repeat;
      background-size: var(--content-bg-size);
      font-family: var(--main-font);
      padding: 5px;
      font-size: 20px;
      color: white;
      text-shadow: -0.1em 0 0 black, 0.1em 0 0 black, 0 -0.1em 0 black, 0 0.1em 0 black,
                   -0.07em -0.07em 0 black, 0.07em -0.07em 0 black, -0.07em 0.07em 0 black,
                   0.07em 0.07em 0 black, 0.07em 0.07em 0.2em rgba(0, 0, 0, 0.7);
      border-radius: 15px;
      margin: 0;
      text-align: center;
    }
    @font-face {
      font-family: 'Digitalt';
      src: url('Digitalt.otf') format('opentype'),
           url('Digitalt.ttf') format('truetype');
    }
    p {
      font-size: 1em;
      line-height: 1.5;
    }

    .support-container {
      max-width: 800px;
      margin: 0 auto;
      padding: 0.5rem;
      word-break: break-word;
    }

    /* Rounded container styling */
    .rounded-video,
    .rounded-carousel {
      border-radius: 15px;
      overflow: hidden;
      cursor: pointer;
    }
    .rounded-video { max-width: 100%; margin: 0 auto; }
    .rounded-carousel {
      width: auto;
      height: 100%;
      margin: 0;
    }
    .carousel-inner > .carousel-item { height: 1%; }

    /* Carousel item styling */
    .feature-item,
    .step-item {
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      text-align: center;
    }
    .feature-text,
    .step-item p {
      margin-bottom: 0.5em;
    }

    .feature-image {
      position: relative;
      width: 100%;
      height: auto;
      overflow: hidden;
      display: flex;
      align-items: flex-start;
      justify-content: center;
    }
    /* Updated rule for feature images to scale horizontally */
    .feature-image img,
    .step-item img {
      width: 100%;
      height: auto;
      object-fit: contain;
      object-position: top center;
      border-radius: 15px;
      background-color: transparent;
      transition: transform 0.3s ease;
    }

    /* Carousel containers */
    #stepsCarousel,
    #featuresCarousel {
      position: relative;
    }
    #stepsCarousel .carousel-inner > .carousel-item,
    #featuresCarousel .carousel-inner > .carousel-item {
      height: auto !important;
    }
    #stepsCarousel .carousel-indicators,
    #featuresCarousel .carousel-indicators {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      margin: 0;
      padding: 0;
      z-index: 15;
    }

    /* Carousel control buttons using variables */
    .carousel-control-prev, 
    .carousel-control-next {
      width: var(--control-width);
      opacity: 0.8;
      transition: opacity 0.3s ease;
    }
    .carousel-control-prev-icon,
    .carousel-control-next-icon {
      width: var(--control-icon-size);
      height: var(--control-icon-size);
      background-size: var(--control-icon-size) var(--control-icon-size);
    }
    .carousel-control-prev:hover,
    .carousel-control-next:hover {
      opacity: 1;
    }

    /* Changelog styling */
    #changelog-box {
      border: 2px solid #555;
      max-height: 400px;
      overflow-y: auto;
      padding: 1rem;
      margin-top: 1rem;
      background-color: #222;
      color: white;
    }
    .changelog-entry {
      border: 1px solid #666;
      padding: 0.5rem;
      margin-bottom: 1rem;
      border-radius: 5px;
    }
    .update-item {
      color: #ccc;
      padding: 0.3rem;
      margin-left: 20px;
      border-radius: 3px;
      font-size: 0.8em;
    }
  </style>
</head>
<body>
  <div class="content-container">
    <h1 style="font-family: 'Digitalt';">
      <span style="color: red;">ULTI</span><span style="color: white;">BAKE</span>
    </h1>
    <p>
      Baking is a crucial step in the asset creation pipeline, enabling the export of surface properties as textures. This addon is designed to enhance your workflow by incorporating industry-standard features inspired by Marmoset Toolbag and Substance Painter.
    </p>
    
    
    <h2>Features</h2>
    <!-- Features Carousel (default Bootstrap functionality) -->
    <div id="featuresCarousel" class="carousel slide rounded-carousel features-carousel" data-bs-pause="hover">
      <div class="carousel-indicators">
        <button type="button" data-bs-target="#featuresCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#featuresCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#featuresCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
        <button type="button" data-bs-target="#featuresCarousel" data-bs-slide-to="3" aria-label="Slide 4"></button>
        <button type="button" data-bs-target="#featuresCarousel" data-bs-slide-to="4" aria-label="Slide 5"></button>
        <button type="button" data-bs-target="#featuresCarousel" data-bs-slide-to="5" aria-label="Slide 6"></button>
        <button type="button" data-bs-target="#featuresCarousel" data-bs-slide-to="6" aria-label="Slide 7"></button>
        <button type="button" data-bs-target="#featuresCarousel" data-bs-slide-to="7" aria-label="Slide 8"></button>
        <button type="button" data-bs-target="#featuresCarousel" data-bs-slide-to="8" aria-label="Slide 9"></button>
        <button type="button" data-bs-target="#featuresCarousel" data-bs-slide-to="9" aria-label="Slide 10"></button>
        <button type="button" data-bs-target="#featuresCarousel" data-bs-slide-to="10" aria-label="Slide 11"></button>
        <button type="button" data-bs-target="#featuresCarousel" data-bs-slide-to="11" aria-label="Slide 12"></button>
      </div>
      <div class="carousel-inner">
        <!-- Slide 1: Bake Visualizer -->
        <div class="carousel-item active">
          <div class="py-4 px-0 d-flex feature-item flex-column">
            <div class="feature-text">
              <h3>Bake Visualizer</h3>
              <p>See your baked textures before you bake them!</p>
            </div>
            <div class="feature-image">
              <img src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/VISUALIZER2.webp" alt="Bake Visualizer">
            </div>
          </div>
        </div>
        <!-- Slide 2: Multi Object Baking -->
        <div class="carousel-item">
          <div class="py-4 px-0 d-flex feature-item flex-column">
            <div class="feature-text">
              <h3>Multi Object Baking</h3>
              <p>Bake entire collections simultaneously.</p>
            </div>
            <div class="feature-image">
              <img src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/hightolowN.webp" alt="Multi Object Baking">
            </div>
          </div>
        </div>
        <!-- Slide 3: Profiles -->
        <div class="carousel-item">
          <div class="py-4 px-0 d-flex feature-item flex-column">
            <div class="feature-text">
              <h3>Profiles</h3>
              <p>Create your own bake setup profile. You can also <strong>save/load</strong> to external files for other projects.</p>
            </div>
            <div class="feature-image">
              <img src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/Profile2.webp" alt="Profiles">
            </div>
          </div>
        </div>
        <!-- Slide 4: Multi Texture Baking -->
        <div class="carousel-item">
          <div class="py-4 px-0 d-flex feature-item flex-column">
            <div class="feature-text">
              <h3>Multi Texture Baking</h3>
              <p>Bake multiple textures with a single click.</p>
            </div>
            <div class="feature-image">
              <img src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/MultiTexture.png" alt="Multi Texture Baking">
            </div>
          </div>
        </div>
        <!-- Slide 5: Channel Packing -->
        <div class="carousel-item">
          <div class="py-4 px-0 d-flex feature-item flex-column">
            <div class="feature-text">
              <h3 class="ext">Channel Packing</h3>
              <p>Bake a different surface property to each channel in the
                <p style="display: inline-block; color: rgb(255, 0, 0);">R</p> 
                <p style="display: inline-block; color: rgb(0, 255, 51);">G</p> 
                <p style="display: inline-block; color: blue;">B</p> 
                <p style="display: inline-block; color: rgb(255, 255, 255);">A</p> 
                Channels
              </p>
            </div>
            <div class="feature-image">
              <img src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/Channelpack2.webp" alt="Channel Packing">
            </div>
          </div>
        </div>
        <!-- Slide 6: Decal Baking -->
        <div class="carousel-item">
          <div class="py-4 px-0 d-flex feature-item flex-column">
            <div class="feature-text">
              <h3>Decal Baking</h3>
              <p>Apply decals to your desired object's surface.<br>Support for decal addons like <a href="https://blendermarket.com/products/ultistamp" target="_blank">UltiStamp</a></p>
            </div>
            <div class="feature-image">
              <img src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/Decals2.webp" alt="Decal Baking">
            </div>
          </div>
        </div>
        <!-- Slide 7: High to Low Baking -->
        <div class="carousel-item">
          <div class="py-4 px-0 d-flex feature-item flex-column">
            <div class="feature-text">
              <h3>High to Low Baking</h3>
              <p>Transfer surface details from high-poly to low-poly meshes.</p>
            </div>
            <div class="feature-image">
              <img src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/superman.webp" alt="High to Low Baking">
            </div>
          </div>
        </div>
        <!-- Slide 8: Bake Post Processing -->
        <div class="carousel-item">
          <div class="py-4 px-0 d-flex feature-item flex-column">
            <div class="feature-text">
              <h3>Bake Post Processing</h3>
              <p>Apply antialiasing, denoising, sharpening and<br>configured in the profile</p>
            </div>
            <div class="feature-image">
              <img src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/ppmov.webp" alt="Special Bakes">
            </div>
          </div>
        </div>
        <!-- Slide 9: Finalize -->
        <div class="carousel-item">
          <div class="py-4 px-0 d-flex feature-item flex-column">
            <div class="feature-text">
              <h3>Finalize</h3>
              <p>Automatically setup textures for quick export</p>
            </div>
            <div class="feature-image">
              <img src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/finalize.webp" alt="Finalize">
            </div>
          </div>
        </div>
        <!-- Slide 10: UDIM Visualizer -->
        <div class="carousel-item">
          <div class="py-4 px-0 d-flex feature-item flex-column">
            <div class="feature-text">
              <h3>UDIM Visualizer</h3>
              <p>See how the resolution will be defined per UDIM tile</p>
            </div>
            <div class="feature-image">
              <img src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/udimvis2.webp" alt="UDIM Visualizer">
            </div>
          </div>
        </div>
        <!-- Slide 11: UDIMs -->
        <div class="carousel-item">
          <div class="py-4 px-0 d-flex feature-item flex-column">
            <div class="feature-text">
              <h3>UDIMs</h3>
              <p>UDIMs are detected automatically from the mesh UVs</p>
            </div>
            <div class="feature-image">
              <img src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/udimabke.webp" alt="UDIMs">
            </div>
          </div>
        </div>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#featuresCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#featuresCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
    
    <h2>Simple to use</h2>
    <div id="stepsCarousel" class="carousel slide rounded-carousel" data-bs-pause="hover">
      <div class="carousel-indicators">
        <button type="button" data-bs-target="#stepsCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Step 1"></button>
        <button type="button" data-bs-target="#stepsCarousel" data-bs-slide-to="1" aria-label="Step 2"></button>
        <button type="button" data-bs-target="#stepsCarousel" data-bs-slide-to="2" aria-label="Step 3"></button>
        <button type="button" data-bs-target="#stepsCarousel" data-bs-slide-to="3" aria-label="Step 4"></button>
        <button type="button" data-bs-target="#stepsCarousel" data-bs-slide-to="4" aria-label="Step 5"></button>
      </div>
      <div class="carousel-inner">
        <div class="carousel-item active">
          <div class="step-item">
            <p>Step 1: Install the addon .zip from Blender Properties</p>
            <img src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/tut1.webp" alt="Step 1">
          </div>
        </div>
        <div class="carousel-item">
          <div class="step-item">
            <p>Step 2: Select your objects to bake</p>
            <img src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/tut2.webp" alt="Step 2">
          </div>
        </div>
        <div class="carousel-item">
          <div class="step-item">
            <p>Step 3: Set up your bake profiles.</p>
            <img src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/tut2_5.webp" alt="Step 3">
          </div>
        </div>
        <div class="carousel-item">
          <div class="step-item">
            <p>Step 4: Set your target folder and bake</p>
            <img src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/tut3.webp" alt="Step 4">
          </div>
        </div>
        <div class="carousel-item">
          <div class="step-item">
            <p>Step 5: Create an export ready copy with Finalize</p>
            <img src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/tut4.webp" alt="Step 5">
          </div>
        </div>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#stepsCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#stepsCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
    
    <h2>Videos</h2>
    <div id="documentationCarousel" class="carousel slide rounded-carousel" data-bs-pause="hover">
      <div class="carousel-indicators">
        <button type="button" data-bs-target="#documentationCarousel" data-bs-slide-to="0" class="active" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#documentationCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#documentationCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
      </div>
      <div class="carousel-inner">
        <div class="carousel-item active">
          <div class="py-4 px-0 d-flex flex-column align-items-center">
            <p>Quick start</p>
            <div class="ratio ratio-16x9 mx-auto">
              <iframe 
                src="https://www.youtube.com/embed/_gE_KFakj5Q" 
                title="Quick start" 
                frameborder="0" 
                allowfullscreen>
              </iframe>
            </div>
          </div>
        </div>
        <div class="carousel-item">
          <div class="py-4 px-0 d-flex flex-column align-items-center">
            <p>High to Low + Decals</p>
            <div class="ratio ratio-16x9 mx-auto">
              <iframe 
                src="https://www.youtube.com/embed/5VbmDDsLJUQ" 
                title="High to Low + Decals" 
                frameborder="0" 
                allowfullscreen>
              </iframe>
            </div>
          </div>
        </div>
        <div class="carousel-item">
          <div class="py-4 px-0 d-flex flex-column align-items-center">
            <p>Combining Materials and Textures. Also shows how to setup a UV</p>
            <div class="ratio ratio-16x9 mx-auto">
              <iframe 
                src="https://www.youtube.com/embed/CSWeFICRiWk" 
                title="Combining Materials and Textures" 
                frameborder="0" 
                allowfullscreen>
              </iframe>
            </div>
          </div>
        </div>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#documentationCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#documentationCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
    
    <h2>Support</h2>
    <div class="support-container">
      <p>If you have any questions, issues, or suggestions, join our Discord group:</p>
      <p><a href="https://discord.gg/Pm7TDf2rV5" target="_blank">https://discord.gg/Pm7TDf2rV5</a></p>
    </div>
    
    <h2 class="ext">Changelog</h2>
    <div id="changelog-box">
      <p>Loading latest changes...</p>
    </div>
  </div>
  
  <!-- Bootstrap 5 Bundle with Popper (JS) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  
  <script>
    // Fetch and parse changelog entries using DRY principles
    const changelogUrl = 'https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/Changelogs.md';
    fetch(changelogUrl)
      .then(response => response.text())
      .then(text => {
        const entries = text.trim().split(/\n\s*\n/).reverse();
        let html = "";
        entries.forEach(entry => {
          // Remove leading '>' and split lines
          entry = entry.replace(/^>\s*/, '');
          const lines = entry.split('\n');
          const headerLine = lines[0].trim();
          const headerText = headerLine.startsWith("##") ? headerLine.replace(/^##\s*/, '') : headerLine;
          const lowerHeader = headerText.toLowerCase();
          const categories = [];
          if (lowerHeader.includes("bug") || lowerHeader.includes("fix")) categories.push("red");
          if (lowerHeader.includes("improvement") || lowerHeader.includes("addition") || lowerHeader.includes("optimization") ||
              lowerHeader.includes("update") || lowerHeader.includes("ures") || lowerHeader.includes("stability")) categories.push("Green");
          if (lowerHeader.includes("rework") || lowerHeader.includes("change")) categories.push("blue");
          const headerColor = (categories.length === 1) ? categories[0] : "white";
  
          let headerHtml = "";
          if (headerLine.startsWith("##")) {
            headerHtml = lowerHeader.includes("version increment")
              ? `<h5 class="rainbow-text">${headerText}</h5>`
              : `<h5 style="color: ${headerColor};">${headerText}</h5>`;
          } else {
            headerHtml = lowerHeader.includes("version increment")
              ? `<p class="rainbow-text">${headerText}</p>`
              : `<p style="color: ${headerColor};">${headerText}</p>`;
          }
  
          let contentHtml = "";
          for (let i = 1; i < lines.length; i++) {
            const line = lines[i].trim();
            if (line.startsWith("*")) {
              contentHtml += `<p class="update-item">${line.replace(/^\*\s*/, '')}</p>`;
            } else if (line !== "") {
              contentHtml += `<p>${line}</p>`;
            }
          }
  
          html += `<div class="changelog-entry mb-3">${headerHtml}${contentHtml}</div>`;
        });
        document.getElementById("changelog-box").innerHTML = html;
      })
      .catch(error => {
        document.getElementById("changelog-box").innerHTML = "<p>Error loading changelog.</p>";
        console.error("Error fetching changelog:", error);
      });
  </script>
</body>
</html>
