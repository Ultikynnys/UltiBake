<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Animation+ Showcase</title>

  <!-- Smooth Scrolling Pattern -->
  <style>
    /* This ensures any internal page jump or anchor link scrolls smoothly. */
    html {
      scroll-behavior: smooth;
    }
  </style>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&family=Raleway:ital,wght@0,500;1,500&display=swap"
    rel="stylesheet"
  />

  <!-- Bootstrap 5 CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <!-- Link to external CSS file (if needed) -->
  <link rel="stylesheet" href="style.css" />

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      document.querySelectorAll('.carousel-item img').forEach(img => {
        // Remove transition duration or set it to 0 for instant zoom
        img.style.transition = "transform 0s, transform-origin 0s";

        // Update the transform origin based on mouse position
        img.addEventListener("mousemove", function(e) {
          const rect = img.getBoundingClientRect();
          const x = e.clientX - rect.left;
          const y = e.clientY - rect.top;
          const xPercent = (x / rect.width) * 100;
          const yPercent = (y / rect.height) * 100;
          img.style.transformOrigin = `${xPercent}% ${yPercent}%`;
        });

        // Zoom in on mouse enter (instant)
        img.addEventListener("mouseenter", function() {
          img.style.transform = "scale(1.25)";
        });

        // Reset zoom on mouse leave (instant)
        img.addEventListener("mouseleave", function() {
          img.style.transform = "scale(1)";
        });
      });
    });
  </script>
</head>
<body>
  <div class="content-container">

    <h1>Animation+</h1>
    <p>
      Supercharge your animation workflow with Animation+! This addon introduces a streamlined animation panel packed with advanced features designed for common use cases, as showcased below. 
      For support, feedback, or feature suggestions, join the developerâ€™s 
      <strong><a href="https://discord.gg/Pm7TDf2rV5" target="_blank">Discord community</a></strong>.
    </p>
    


    <h2>Features</h2>
    <!-- Features Carousel -->
    <div id="featuresCarousel" class="carousel slide rounded-carousel features-carousel" data-bs-pause="hover">
      <div class="carousel-indicators">
        <button
          type="button"
          data-bs-target="#featuresCarousel"
          data-bs-slide-to="0"
          class="active"
          aria-current="true"
          aria-label="Slide 1"
        ></button>
        <button
          type="button"
          data-bs-target="#featuresCarousel"
          data-bs-slide-to="1"
          aria-label="Slide 2"
        ></button>
        <button
          type="button"
          data-bs-target="#featuresCarousel"
          data-bs-slide-to="2"
          aria-label="Slide 3"
        ></button>
        <button
          type="button"
          data-bs-target="#featuresCarousel"
          data-bs-slide-to="3"
          aria-label="Slide 4"
        ></button>
        <button
          type="button"
          data-bs-target="#featuresCarousel"
          data-bs-slide-to="4"
          aria-label="Slide 5"
        ></button>
        <button
          type="button"
          data-bs-target="#featuresCarousel"
          data-bs-slide-to="5"
          aria-label="Slide 6"
        ></button>
        <button
          type="button"
          data-bs-target="#featuresCarousel"
          data-bs-slide-to="6"
          aria-label="Slide 7"
        ></button>
        <button
          type="button"
          data-bs-target="#featuresCarousel"
          data-bs-slide-to="7"
          aria-label="Slide 8"
        ></button>
        <button
          type="button"
          data-bs-target="#featuresCarousel"
          data-bs-slide-to="8"
          aria-label="Slide 9"
        ></button>
        <button
          type="button"
          data-bs-target="#featuresCarousel"
          data-bs-slide-to="9"
          aria-label="Slide 10"
        ></button>
        <button
          type="button"
          data-bs-target="#featuresCarousel"
          data-bs-slide-to="10"
          aria-label="Slide 11"
        ></button>
        <button
          type="button"
          data-bs-target="#featuresCarousel"
          data-bs-slide-to="11"
          aria-label="Slide 12"
        ></button>
        <button
          type="button"
          data-bs-target="#featuresCarousel"
          data-bs-slide-to="12"
          aria-label="Slide 13"
        ></button>
        <button
          type="button"
          data-bs-target="#featuresCarousel"
          data-bs-slide-to="13"
          aria-label="Slide 14"
        ></button>
      </div>

      <div class="carousel-inner">
        <!-- Slide 1: Effortlessly combine animations -->
        <div class="carousel-item active">
          <div class="p-4 d-flex feature-item flex-column">
            <div class="feature-text">
              <h3>Effortlessly combine animations</h3>
            </div>
            <div class="feature-image">
              <img
                src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/SumAnims.webp"
                alt="Effortlessly combine animations"
              />
            </div>
          </div>
        </div>
        <!-- Slide 2: Change Armature actions in any mode -->
        <div class="carousel-item">
          <div class="p-4 d-flex feature-item flex-column">
            <div class="feature-text">
              <h3>Change Armature actions in any mode</h3>
            </div>
            <div class="feature-image">
              <img
                src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/ChangeArmatureInModes.webp"
                alt="Change Armature actions in any mode"
              />
            </div>
          </div>
        </div>
        <!-- Slide 3: UI interface for working with shapekeys -->
        <div class="carousel-item">
          <div class="p-4 d-flex feature-item flex-column">
            <div class="feature-text">
              <h3>UI interface for working with shapekeys</h3>
            </div>
            <div class="feature-image">
              <img
                src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/ShapeKeyControls.webp"
                alt="UI interface for working with shapekeys"
              />
            </div>
          </div>
        </div>
        <!-- Slide 4: Quickly Toggle MotionPaths which update when the action changes -->
        <div class="carousel-item">
          <div class="p-4 d-flex feature-item flex-column">
            <div class="feature-text">
              <h3>Quickly Toggle MotionPaths which update when the action changes</h3>
            </div>
            <div class="feature-image">
              <img
                src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/MotionPaths.webp"
                alt="MotionPaths"
              />
            </div>
          </div>
        </div>
        <!-- Slide 5: Apply scale in a way that will also make the actions work -->
        <div class="carousel-item">
          <div class="p-4 d-flex feature-item flex-column">
            <div class="feature-text">
              <h3>Apply scale in a way that will also make the actions work</h3>
            </div>
            <div class="feature-image">
              <img
                src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/ApplyScale.webp"
                alt="Apply scale"
              />
            </div>
          </div>
        </div>
        <!-- Slide 6: Apply a global offset to your selected keyframes -->
        <div class="carousel-item">
          <div class="p-4 d-flex feature-item flex-column">
            <div class="feature-text">
              <h3>Apply a global offset to your selected keyframes</h3>
            </div>
            <div class="feature-image">
              <img
                src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/Offset.webp"
                alt="Global offset"
              />
            </div>
          </div>
        </div>
        <!-- Slide 7: Mirror selected pose bones for the selected keyframes -->
        <div class="carousel-item">
          <div class="p-4 d-flex feature-item flex-column">
            <div class="feature-text">
              <h3>Mirror selected pose bones for the selected keyframes</h3>
            </div>
            <div class="feature-image">
              <img
                src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/MotionMirror.webp"
                alt="Motion Mirror"
              />
            </div>
          </div>
        </div>
        <!-- Slide 8: Snap your action to the 0 frame and clamp the frames to the desired range -->
        <div class="carousel-item">
          <div class="p-4 d-flex feature-item flex-column">
            <div class="feature-text">
              <h3>Snap your action to the 0 frame and clamp the frames to the desired range</h3>
            </div>
            <div class="feature-image">
              <img
                src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/SnapAndClamp.webp"
                alt="Snap and Clamp"
              />
            </div>
          </div>
        </div>
        <!-- Slide 9: Now you can not only clear but Remove your actions with ease -->
        <div class="carousel-item">
          <div class="p-4 d-flex feature-item flex-column">
            <div class="feature-text">
              <h3>
                Now you can not only clear but <strong>Remove</strong> your actions with
                ease
              </h3>
            </div>
            <div class="feature-image">
              <img
                src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/ClearAndRemove.webp"
                alt="Clear and Remove"
              />
            </div>
          </div>
        </div>
        <!-- Slide 10: Never again lose your actions due to orphaned state -->
        <div class="carousel-item">
          <div class="p-4 d-flex feature-item flex-column">
            <div class="feature-text">
              <h3>Never again lose your actions due to orphaned state</h3>
            </div>
            <div class="feature-image">
              <img
                src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/NeverLoseYourActions.webp"
                alt="Never lose your actions"
              />
            </div>
          </div>
        </div>
        <!-- Slide 11: Instantly create pose library thumbnails straight from the current view -->
        <div class="carousel-item">
          <div class="p-4 d-flex feature-item flex-column">
            <div class="feature-text">
              <h3>
                Instantly create pose library thumbnails straight from the current
                view
              </h3>
            </div>
            <div class="feature-image">
              <img
                src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/InstantAssetLibraryImages.webp"
                alt="Instant Asset Library Images"
              />
            </div>
          </div>
        </div>
        <!-- Slide 12: Instantly toggle cyclic animations (essential for looping animations) -->
        <div class="carousel-item">
          <div class="p-4 d-flex feature-item flex-column">
            <div class="feature-text">
              <h3>Instantly toggle cyclic animations (essential for looping animations)</h3>
            </div>
            <div class="feature-image">
              <img
                src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/SeamlessLoopingAnimations.webp"
                alt="Seamless Looping Animations"
              />
            </div>
          </div>
        </div>
        <!-- Slide 13: Works in all animation modes as well -->
        <div class="carousel-item">
          <div class="p-4 d-flex feature-item flex-column">
            <div class="feature-text">
              <h3>Works in all animation modes as well</h3>
            </div>
            <div class="feature-image">
              <img
                src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/allmodes.webp"
                alt="Works in all modes"
              />
            </div>
          </div>
        </div>
        <!-- Slide 14: Automatically update the timeline per action! -->
        <div class="carousel-item">
          <div class="p-4 d-flex feature-item flex-column">
            <div class="feature-text">
              <h3>Automatically update the timeline per action!</h3>
            </div>
            <div class="feature-image">
              <img
                src="https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/AutoTimeline.webp"
                alt="Auto Timeline"
              />
            </div>
          </div>
        </div>
      </div>
      <!-- Carousel Controls for Features Carousel -->
      <button
        class="carousel-control-prev"
        type="button"
        data-bs-target="#featuresCarousel"
        data-bs-slide="prev"
      >
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button
        class="carousel-control-next"
        type="button"
        data-bs-target="#featuresCarousel"
        data-bs-slide="next"
      >
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>

    <!-- Changelog Header Outside the Box -->
    <h2 class="ext">Changelog</h2>
    <!-- Changelog Box (Now the last element) -->
    <div id="changelog-box">
      <p>Loading latest changes...</p>
    </div>
  </div>

  <!-- Bootstrap 5 Bundle with Popper (JS) -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
  ></script>

  <!-- Fitty Library for auto-resizing text -->
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/fitty/2.3.6/fitty.min.js"
  ></script>

  <script>
    // Initialize fitty on feature descriptions
    fitty('.feature-description', {
      minSize: 12,
      maxSize: 36,
      multiLine: false
    });

    // Make every carousel clickable to move to the next slide
    document.querySelectorAll('.carousel').forEach(function(carousel) {
      carousel.style.cursor = 'pointer';
      carousel.addEventListener('click', function(e) {
        // Ensure that a control button click doesn't trigger the next slide
        if (
          e.target.closest('.carousel-control-prev') ||
          e.target.closest('.carousel-control-next')
        ) {
          return;
        }
        var instance = bootstrap.Carousel.getInstance(carousel);
        if (!instance) {
          instance = new bootstrap.Carousel(carousel);
        }
        instance.next();
      });
    });

    // Fetch and parse all changelog entries from the Markdown file
    const changelogUrl =
      'https://raw.githubusercontent.com/Ultikynnys/UltiBake/refs/heads/main/Changelogs3.md';

    fetch(changelogUrl)
      .then(response => response.text())
      .then(text => {
        // Split entries by double newlines and reverse so the newest entries come first
        let entries = text.trim().split(/\n\s*\n/).reverse();
        let html = "";

        entries.forEach(entry => {
          // Remove leading '>' and trim
          entry = entry.replace(/^>\s*/, '');
          let lines = entry.split('\n');

          // Process the header line
          let headerLine = lines[0].trim();
          let headerText = headerLine.startsWith("##")
            ? headerLine.replace(/^##\s*/, '')
            : headerLine;

          // Determine header color based on keywords
          let lowerHeader = headerText.toLowerCase();
          let categories = [];
          if (lowerHeader.includes("bug") || lowerHeader.includes("fix")) {
            categories.push("red");
          }
          if (
            lowerHeader.includes("improvement") ||
            lowerHeader.includes("addition") ||
            lowerHeader.includes("optimization") ||
            lowerHeader.includes("update") ||
            lowerHeader.includes("ures") ||
            lowerHeader.includes("stability")
          ) {
            categories.push("Green");
          }
          if (lowerHeader.includes("rework") || lowerHeader.includes("change")) {
            categories.push("blue");
          }

          // If multiple categories or none, default to white
          let headerColor =
            categories.length === 1 ? categories[0] : "white";

          let headerHtml = "";
          if (headerLine.startsWith("##")) {
            if (lowerHeader.includes("version increment")) {
              headerHtml = `<h5 class="rainbow-text">${headerText}</h5>`;
            } else {
              headerHtml = `<h5 style="color: ${headerColor};">${headerText}</h5>`;
            }
          } else {
            if (lowerHeader.includes("version increment")) {
              headerHtml = `<p class="rainbow-text">${headerText}</p>`;
            } else {
              headerHtml = `<p style="color: ${headerColor};">${headerText}</p>`;
            }
          }

          // Process remaining lines
          let contentHtml = "";
          for (let i = 1; i < lines.length; i++) {
            let line = lines[i].trim();
            if (line.startsWith("*")) {
              let item = line.replace(/^\*\s*/, '');
              contentHtml += `<p class="update-item">${item}</p>`;
            } else if (line !== "") {
              contentHtml += `<p>${line}</p>`;
            }
          }

          html += `<div class="changelog-entry mb-3">${headerHtml}${contentHtml}</div>`;
        });
        document.getElementById("changelog-box").innerHTML = html;
      })
      .catch(error => {
        document.getElementById("changelog-box").innerHTML =
          "<p>Error loading changelog.</p>";
        console.error("Error fetching changelog:", error);
      });
  </script>
</body>
</html>
